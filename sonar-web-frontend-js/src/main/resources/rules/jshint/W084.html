
    <h3 id="history">History</h3>
<p>This warning has existed in two forms across the three main linters. It was
introduced in the original version of JSLint and has remained in all three tools
ever since.</p>
<ul>
<li><p>In JSLint, up until July 2013, the warning given was "Expected a conditional
expression and instead saw an assignment"</p>
</li>
<li><p>In July 2013 the warning given by JSLint changed to "Unexpected assignment
expression"</p>
</li>
<li><p>In both JSHint and ESLint the warning has always been "Expected a conditional
expression and instead saw an assignment"</p>
</li>
</ul>
<p>The situations that produce the warning have not changed despite changes to the
text of the warning itself.</p>
<h3 id="when-do-i-get-this-error-">When do I get this error?</h3>
<p>The "Unexpected assignment expression" error (and the alternative "Expected a
conditional expression and instead saw an assignment" error) are thrown when
JSLint, JSHint or ESLint encounters <strong>an assignment expression in an <code>if</code>, <code>for</code>
or <code>while</code> statement initializer</strong>. In the following example we have an <code>if</code>
statement with an assignment expression where you would normally expect a
conditional:</p>
<div class="row editor"><div class="col-md-6"><textarea style="display: none;" class="cm"></textarea><div class="CodeMirror cm-s-default"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 4px; left: 33px;"><textarea tabindex="0" spellcheck="false" autocapitalize="off" autocorrect="off" wrap="off" style="position: absolute; padding: 0px; width: 1px; height: 1em; outline: medium none;"></textarea></div><div cm-not-content="true" class="CodeMirror-vscrollbar"><div style="min-width: 1px; height: 0px;"></div></div><div cm-not-content="true" class="CodeMirror-hscrollbar"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div cm-not-content="true" class="CodeMirror-scrollbar-filler"></div><div cm-not-content="true" class="CodeMirror-gutter-filler"></div><div draggable="true" tabindex="-1" class="CodeMirror-scroll"><div style="margin-left: 29px; margin-bottom: -15px; border-right-width: 15px; min-width: 127px; min-height: 138px; padding-right: 0px; padding-bottom: 0px;" class="CodeMirror-sizer"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: medium none;"><div class="CodeMirror-measure"><span><span>​</span>x</span></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div style="left: 4px; top: 0px; height: 26.05px;" class="CodeMirror-cursor">&nbsp;</div></div><div style="" class="CodeMirror-code"><div style="position: relative;"><div style="left: -29px; width: 29px;" class="CodeMirror-gutter-wrapper"><div style="left: 0px; width: 20px;" class="CodeMirror-linenumber CodeMirror-gutter-elt">1</div></div><pre class=""><span><span class="cm-keyword">var</span> <span class="cm-variable">x</span>, <span class="cm-variable">y</span>;</span></pre></div><div style="position: relative;"><div style="left: -29px; width: 29px;" class="CodeMirror-gutter-wrapper"><div style="left: 0px; width: 20px;" class="CodeMirror-linenumber CodeMirror-gutter-elt">2</div></div><pre class=""><span><span class="cm-keyword">if</span> (<span class="cm-variable">x</span> <span class="cm-operator">=</span> <span class="cm-number">0</span>) {</span></pre></div><div style="position: relative;"><div style="left: -29px; width: 29px;" class="CodeMirror-gutter-wrapper"><div style="left: 0px; width: 20px;" class="CodeMirror-linenumber CodeMirror-gutter-elt">3</div></div><pre class=""><span>    <span class="cm-variable">y</span> <span class="cm-operator">=</span> <span class="cm-number">1</span>;</span></pre></div><div style="position: relative;"><div style="left: -29px; width: 29px;" class="CodeMirror-gutter-wrapper"><div style="left: 0px; width: 20px;" class="CodeMirror-linenumber CodeMirror-gutter-elt">4</div></div><pre class=""><span>}</span></pre></div><div style="position: relative;"><div style="left: -29px; width: 29px;" class="CodeMirror-gutter-wrapper"><div style="left: 0px; width: 20px;" class="CodeMirror-linenumber CodeMirror-gutter-elt">5</div></div><pre class=""><span><span cm-text="">​</span></span></pre></div></div></div></div></div></div><div style="position: absolute; height: 15px; width: 1px; top: 138px;"></div><div style="height: 153px;" class="CodeMirror-gutters"><div style="width: 28px;" class="CodeMirror-gutter CodeMirror-linenumbers"></div></div></div></div></div><div class="col-md-6"><div class="lint error"><span class="linter">JSLint</span>&nbsp;<span class="result">found 1 error</span><a href="#" data-toggle="dropdown" title="Settings"><span class="glyphicon glyphicon-cog pull-right"></span></a><div class="dropdown-menu pull-right"><p>Which linter should be used for this code snippet:</p><form class="form-inline"><label class="radio-inline"><input name="linter" value="jslint" type="radio"> JSLint</label><label class="radio-inline"><input name="linter" value="jshint" type="radio"> JSHint</label><label class="radio-inline"><input name="linter" value="eslint" type="radio"> ESLint</label></form><p>Which version of the linter should be used:</p><form><input class="form-control filter" placeholder="Filter linter versions" type="text"></form><table class="table table-striped versions"></table><button class="btn btn-default btn-sm update">Update</button></div><span class="pull-right small version">Version 2015-09-23</span></div><div class="result"><table class="table errors"><tbody><tr><td class="inline">Line 1:</td><td class="msg">Unexpected statement '=' in expression position.</td></tr></tbody></table></div></div><iframe></iframe></div>
<p>Since May 2013 JSLint will also generate this warning when it encounters a
<strong>return statement containing an assignment expression</strong>. If that's the case in
your code you'll want to read the page concerning the "<a href="/did-you-mean-to-return-a-conditional">Did you mean to return a
conditional instead of an assignment</a>" error instead.</p>
<h3 id="why-do-i-get-this-error-">Why do I get this error?</h3>
<p>This error is raised to highlight a <strong>possible mistake</strong>. Your code is unlikely
to work as expected if you do not resolve this issue. However, the code in the
example above is valid and will not cause fatal errors in any environment.</p>
<p>Instead of checking whether the variable <code>x</code> has the value <code>0</code> the example above
will <em>assign</em> the value <code>0</code> to <code>x</code>. The body of the <code>if</code> statement will not be
executed because the assignment expression results in <code>undefined</code> which is
falsy.</p>
<p>In the above case it's obvious we've made a mistake and the fix is to simply
ensure the use of a comparison rather than an assignment:</p>
<div class="row editor"><div class="col-md-6"><textarea style="display: none;" class="cm"></textarea><div class="CodeMirror cm-s-default"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 4px; left: 33px;"><textarea tabindex="0" spellcheck="false" autocapitalize="off" autocorrect="off" wrap="off" style="position: absolute; padding: 0px; width: 1px; height: 1em; outline: medium none;"></textarea></div><div cm-not-content="true" class="CodeMirror-vscrollbar"><div style="min-width: 1px; height: 0px;"></div></div><div cm-not-content="true" class="CodeMirror-hscrollbar"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div cm-not-content="true" class="CodeMirror-scrollbar-filler"></div><div cm-not-content="true" class="CodeMirror-gutter-filler"></div><div draggable="true" tabindex="-1" class="CodeMirror-scroll"><div style="margin-left: 29px; margin-bottom: -15px; border-right-width: 15px; min-width: 147px; min-height: 138px; padding-right: 0px; padding-bottom: 0px;" class="CodeMirror-sizer"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: medium none;"><div class="CodeMirror-measure"><div class="CodeMirror-linenumber CodeMirror-gutter-elt"><div>5</div></div></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div style="left: 4px; top: 0px; height: 26.0499px;" class="CodeMirror-cursor">&nbsp;</div></div><div style="" class="CodeMirror-code"><div style="position: relative;"><div style="left: -29px; width: 29px;" class="CodeMirror-gutter-wrapper"><div style="left: 0px; width: 20px;" class="CodeMirror-linenumber CodeMirror-gutter-elt">1</div></div><pre class=""><span><span class="cm-keyword">var</span> <span class="cm-variable">x</span>, <span class="cm-variable">y</span>;</span></pre></div><div style="position: relative;"><div style="left: -29px; width: 29px;" class="CodeMirror-gutter-wrapper"><div style="left: 0px; width: 20px;" class="CodeMirror-linenumber CodeMirror-gutter-elt">2</div></div><pre class=""><span><span class="cm-keyword">if</span> (<span class="cm-variable">x</span> <span class="cm-operator">===</span> <span class="cm-number">0</span>) {</span></pre></div><div style="position: relative;"><div style="left: -29px; width: 29px;" class="CodeMirror-gutter-wrapper"><div style="left: 0px; width: 20px;" class="CodeMirror-linenumber CodeMirror-gutter-elt">3</div></div><pre class=""><span>    <span class="cm-variable">y</span> <span class="cm-operator">=</span> <span class="cm-number">1</span>;</span></pre></div><div style="position: relative;"><div style="left: -29px; width: 29px;" class="CodeMirror-gutter-wrapper"><div style="left: 0px; width: 20px;" class="CodeMirror-linenumber CodeMirror-gutter-elt">4</div></div><pre class=""><span>}</span></pre></div><div style="position: relative;"><div style="left: -29px; width: 29px;" class="CodeMirror-gutter-wrapper"><div style="left: 0px; width: 20px;" class="CodeMirror-linenumber CodeMirror-gutter-elt">5</div></div><pre class=""><span><span cm-text="">​</span></span></pre></div></div></div></div></div></div><div style="position: absolute; height: 15px; width: 1px; top: 138px;"></div><div style="height: 153px;" class="CodeMirror-gutters"><div style="width: 28px;" class="CodeMirror-gutter CodeMirror-linenumbers"></div></div></div></div></div><div class="col-md-6"><div class="lint success"><span class="linter">JSLint</span>&nbsp;<span class="result">found no errors</span><a href="#" data-toggle="dropdown" title="Settings"><span class="glyphicon glyphicon-cog pull-right"></span></a><div class="dropdown-menu pull-right"><p>Which linter should be used for this code snippet:</p><form class="form-inline"><label class="radio-inline"><input name="linter" value="jslint" type="radio"> JSLint</label><label class="radio-inline"><input name="linter" value="jshint" type="radio"> JSHint</label><label class="radio-inline"><input name="linter" value="eslint" type="radio"> ESLint</label></form><p>Which version of the linter should be used:</p><form><input class="form-control filter" placeholder="Filter linter versions" type="text"></form><table class="table table-striped versions"></table><button class="btn btn-default btn-sm update">Update</button></div><span class="pull-right small version">Version 2015-09-23</span></div><div class="result"><table class="table errors"></table></div></div><iframe></iframe></div>
<p>There are some legitimate situations that can produce this error too. Consider
the following example which is a common pattern for traversing a DOM node
heirarchy:</p>
<div class="row editor"><div class="col-md-6"><textarea style="display: none;" class="cm"></textarea><div class="CodeMirror cm-s-default"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 4px; left: 33px;"><textarea tabindex="0" spellcheck="false" autocapitalize="off" autocorrect="off" wrap="off" style="position: absolute; padding: 0px; width: 1px; height: 1em; outline: medium none;"></textarea></div><div cm-not-content="true" class="CodeMirror-vscrollbar"><div style="min-width: 1px; height: 0px;"></div></div><div cm-not-content="true" class="CodeMirror-hscrollbar"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div cm-not-content="true" class="CodeMirror-scrollbar-filler"></div><div cm-not-content="true" class="CodeMirror-gutter-filler"></div><div draggable="true" tabindex="-1" class="CodeMirror-scroll"><div style="margin-left: 29px; margin-bottom: -15px; border-right-width: 15px; min-width: 457px; min-height: 190px; padding-right: 0px; padding-bottom: 0px;" class="CodeMirror-sizer"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: medium none;"><div class="CodeMirror-measure"><div class="CodeMirror-linenumber CodeMirror-gutter-elt"><div>7</div></div></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div style="left: 4px; top: 0px; height: 26.05px;" class="CodeMirror-cursor">&nbsp;</div></div><div style="" class="CodeMirror-code"><div style="position: relative;"><div style="left: -29px; width: 29px;" class="CodeMirror-gutter-wrapper"><div style="left: 0px; width: 20px;" class="CodeMirror-linenumber CodeMirror-gutter-elt">1</div></div><pre class=""><span><span class="cm-keyword">function</span> <span class="cm-variable">setHeight</span>(<span class="cm-def">someNode</span>) {</span></pre></div><div style="position: relative;"><div style="left: -29px; width: 29px;" class="CodeMirror-gutter-wrapper"><div style="left: 0px; width: 20px;" class="CodeMirror-linenumber CodeMirror-gutter-elt">2</div></div><pre class=""><span>    <span class="cm-string">"use strict"</span>;</span></pre></div><div style="position: relative;"><div style="left: -29px; width: 29px;" class="CodeMirror-gutter-wrapper"><div style="left: 0px; width: 20px;" class="CodeMirror-linenumber CodeMirror-gutter-elt">3</div></div><pre class=""><span>    <span class="cm-keyword">do</span> {</span></pre></div><div style="position: relative;"><div style="left: -29px; width: 29px;" class="CodeMirror-gutter-wrapper"><div style="left: 0px; width: 20px;" class="CodeMirror-linenumber CodeMirror-gutter-elt">4</div></div><pre class=""><span>        <span class="cm-variable-2">someNode</span>.<span class="cm-property">height</span> <span class="cm-operator">=</span> <span class="cm-string">'100px'</span>;</span></pre></div><div style="position: relative;"><div style="left: -29px; width: 29px;" class="CodeMirror-gutter-wrapper"><div style="left: 0px; width: 20px;" class="CodeMirror-linenumber CodeMirror-gutter-elt">5</div></div><pre class=""><span>    } <span class="cm-keyword">while</span> (<span class="cm-variable-2">someNode</span> <span class="cm-operator">=</span> <span class="cm-variable-2">someNode</span>.<span class="cm-property">parentNode</span>);</span></pre></div><div style="position: relative;"><div style="left: -29px; width: 29px;" class="CodeMirror-gutter-wrapper"><div style="left: 0px; width: 20px;" class="CodeMirror-linenumber CodeMirror-gutter-elt">6</div></div><pre class=""><span>}</span></pre></div><div style="position: relative;"><div style="left: -29px; width: 29px;" class="CodeMirror-gutter-wrapper"><div style="left: 0px; width: 20px;" class="CodeMirror-linenumber CodeMirror-gutter-elt">7</div></div><pre class=""><span><span cm-text="">​</span></span></pre></div></div></div></div></div></div><div style="position: absolute; height: 15px; width: 1px; top: 190px;"></div><div style="height: 205px;" class="CodeMirror-gutters"><div style="width: 28px;" class="CodeMirror-gutter CodeMirror-linenumbers"></div></div></div></div></div><div class="col-md-6"><div class="lint error"><span class="linter">JSHint</span>&nbsp;<span class="result">found 1 error</span><a href="#" data-toggle="dropdown" title="Settings"><span class="glyphicon glyphicon-cog pull-right"></span></a><div class="dropdown-menu pull-right"><p>Which linter should be used for this code snippet:</p><form class="form-inline"><label class="radio-inline"><input name="linter" value="jslint" type="radio"> JSLint</label><label class="radio-inline"><input name="linter" value="jshint" type="radio"> JSHint</label><label class="radio-inline"><input name="linter" value="eslint" type="radio"> ESLint</label></form><p>Which version of the linter should be used:</p><form><input class="form-control filter" placeholder="Filter linter versions" type="text"></form><table class="table table-striped versions"></table><button class="btn btn-default btn-sm update">Update</button></div><span class="pull-right small version">Version 2.9.0</span></div><div class="result"><table class="table errors"><tbody><tr><td class="inline">Line 5:</td><td class="msg">Expected a conditional expression and instead saw an assignment.</td></tr></tbody></table></div></div><iframe></iframe></div>
<p>In this case you can disable the warning (if you're using JSHint or ESLint) or
force the expression to become conditional, but only if you're using JSHint,
ESLint or a version JSLint from before July 2013 (the message will be "Expected
a conditional expression and instead saw an assignment"). If you're using a more
recent version there appears to be no way to supress the "Unexpected assignment
expression" warning:</p>
<div class="row editor"><div class="col-md-6"><textarea style="display: none;" class="cm"></textarea><div class="CodeMirror cm-s-default"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 4px; left: 33px;"><textarea tabindex="0" spellcheck="false" autocapitalize="off" autocorrect="off" wrap="off" style="position: absolute; padding: 0px; width: 1px; height: 1em; outline: medium none;"></textarea></div><div cm-not-content="true" class="CodeMirror-vscrollbar"><div style="min-width: 1px; height: 0px;"></div></div><div style="display: block; right: 0px; left: 29px;" cm-not-content="true" class="CodeMirror-hscrollbar"><div style="height: 100%; min-height: 1px; width: 567px;"></div></div><div cm-not-content="true" class="CodeMirror-scrollbar-filler"></div><div cm-not-content="true" class="CodeMirror-gutter-filler"></div><div draggable="true" tabindex="-1" class="CodeMirror-scroll"><div style="margin-left: 29px; margin-bottom: -15px; border-right-width: 15px; min-width: 567px; min-height: 190px; padding-right: 0px; padding-bottom: 15px;" class="CodeMirror-sizer"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: medium none;"><div class="CodeMirror-measure"><div class="CodeMirror-linenumber CodeMirror-gutter-elt"><div>7</div></div></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div style="left: 4px; top: 0px; height: 26.05px;" class="CodeMirror-cursor">&nbsp;</div></div><div style="" class="CodeMirror-code"><div style="position: relative;"><div style="left: -29px; width: 29px;" class="CodeMirror-gutter-wrapper"><div style="left: 0px; width: 20px;" class="CodeMirror-linenumber CodeMirror-gutter-elt">1</div></div><pre class=""><span><span class="cm-keyword">function</span> <span class="cm-variable">setHeight</span>(<span class="cm-def">someNode</span>) {</span></pre></div><div style="position: relative;"><div style="left: -29px; width: 29px;" class="CodeMirror-gutter-wrapper"><div style="left: 0px; width: 20px;" class="CodeMirror-linenumber CodeMirror-gutter-elt">2</div></div><pre class=""><span>    <span class="cm-string">"use strict"</span>;</span></pre></div><div style="position: relative;"><div style="left: -29px; width: 29px;" class="CodeMirror-gutter-wrapper"><div style="left: 0px; width: 20px;" class="CodeMirror-linenumber CodeMirror-gutter-elt">3</div></div><pre class=""><span>    <span class="cm-keyword">do</span> {</span></pre></div><div style="position: relative;"><div style="left: -29px; width: 29px;" class="CodeMirror-gutter-wrapper"><div style="left: 0px; width: 20px;" class="CodeMirror-linenumber CodeMirror-gutter-elt">4</div></div><pre class=""><span>        <span class="cm-variable-2">someNode</span>.<span class="cm-property">height</span> <span class="cm-operator">=</span> <span class="cm-string">'100px'</span>;</span></pre></div><div style="position: relative;"><div style="left: -29px; width: 29px;" class="CodeMirror-gutter-wrapper"><div style="left: 0px; width: 20px;" class="CodeMirror-linenumber CodeMirror-gutter-elt">5</div></div><pre class=""><span>    } <span class="cm-keyword">while</span> ((<span class="cm-variable-2">someNode</span> <span class="cm-operator">=</span> <span class="cm-variable-2">someNode</span>.<span class="cm-property">parentNode</span>) <span class="cm-operator">!==</span> <span class="cm-atom">null</span>);</span></pre></div><div style="position: relative;"><div style="left: -29px; width: 29px;" class="CodeMirror-gutter-wrapper"><div style="left: 0px; width: 20px;" class="CodeMirror-linenumber CodeMirror-gutter-elt">6</div></div><pre class=""><span>}</span></pre></div><div style="position: relative;"><div style="left: -29px; width: 29px;" class="CodeMirror-gutter-wrapper"><div style="left: 0px; width: 20px;" class="CodeMirror-linenumber CodeMirror-gutter-elt">7</div></div><pre class=""><span><span cm-text="">​</span></span></pre></div></div></div></div></div></div><div style="position: absolute; height: 15px; width: 1px; top: 190px;"></div><div style="height: 205px;" class="CodeMirror-gutters"><div style="width: 28px;" class="CodeMirror-gutter CodeMirror-linenumbers"></div></div></div></div></div><div class="col-md-6"><div class="lint success"><span class="linter">JSLint</span>&nbsp;<span class="result">found no errors</span><a href="#" data-toggle="dropdown" title="Settings"><span class="glyphicon glyphicon-cog pull-right"></span></a><div class="dropdown-menu pull-right"><p>Which linter should be used for this code snippet:</p><form class="form-inline"><label class="radio-inline"><input name="linter" value="jslint" type="radio"> JSLint</label><label class="radio-inline"><input name="linter" value="jshint" type="radio"> JSHint</label><label class="radio-inline"><input name="linter" value="eslint" type="radio"> ESLint</label></form><p>Which version of the linter should be used:</p><form><input class="form-control filter" placeholder="Filter linter versions" type="text"></form><table class="table table-striped versions"></table><button disabled="" class="btn btn-default btn-sm update">Loading...</button></div><span class="pull-right small version">Version 2013-05-31</span></div><div class="result"><table class="table errors"></table></div></div><iframe></iframe></div>
<p>In JSHint 1.0.0 and above you have the ability to ignore any warning with a
<a href="http://jshint.com/docs/#options">special option syntax</a>. The identifier of this warning is <strong>W084</strong>.
This means you can tell JSHint to not issue this warning with the <code>/*jshint
-W084 */</code> directive.</p>
<p>In ESLint the rule that generates this warning is named <code>no-cond-assign</code>. You
can disable it by setting it to <code>0</code>, or enable it by setting it to <code>1</code>.</p>

  